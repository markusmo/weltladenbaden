{% extends "weltladen/catalog/product-detail.html" %}
{% load static i18n cms_tags thumbnail %}

{% block main-content %}
{% include "shop/catalog/bsp-scrollpanel.tmpl.html" %}
{% thumbnail product.images.first 250x250 crop as thumb %}
{% thumbnail product.bio_quality_label.logo 124x200 as biothumb %}
<div class="container">
	<div class="row">
		<div class="col col-md-10 offset-sm-1" style="margin-bottom:1em;">
			<h1>{% render_model product "product_name" %}</h1>
		</div>
		<div class="col col-md-4 offset-sm-1">
			<bsp-scrollpanel class="shop-product-detail">
				<ul>
					{% for img in product.images.all %}
						<li>
							<img width="{{ thumb.width }}" height="{{ thumb.height }}" alt="{{ product.product_name }}" src="{{ img.url }}" alt="{{ product.product_name }}" />
						</li>
					{% endfor %}
				</ul>
			</bsp-scrollpanel>
		</div>
		<div class="col col-md-6">
			<!-- include "Add to Cart" dialog box -->
			{% include "weltladen/catalog/weltladenproduct-add2cart.html" with card_css_classes="mb-1" %}
		</div>
		<div class="col col-md-10 offset-md-1">
			<p>{{ product.short_description|safe }}</p>

			<div style="margin-top: 3em; margin-bottom:2em;">
			{% if product.fairtrade %}
			<img width="82px" alt="Fairtrade logo" src={% static 'weltladen/fairtrade_logo.svg' %}/>
			{% endif %}
			{% if product.bio_quality_label %}
			<img width="{{ biothumb.width }}" height="{{ biothumb.height }}" src="{{ biothumb.url }}"/>
			{% endif %}
			</div>

			<details style="padding:1em;">
				<summary style="font-size: 26px; text-decoration:underline;">{% trans "Details" %}</summary>
				<p>{{ product.description|safe }} </p>
			</details>
			<ul class="list-group mb-3">
				<li class="list-group-item d-flex">
					<div class="w-50">{% trans "Supplier" %}:</div>
					<strong>{{ product.supplier }}</strong>
				</li>
				{% if product.country_of_origin %}
				<li class="list-group-item d-flex">
					<div class="w-50">{% trans "Country of Origin" %}:</div>
					<strong>{{ product.country_of_origin }}</strong>
				</li>
				{% endif %}
				<li class="list-group-item d-flex">
					<div class="w-50">{% trans "Manufacturer" %}:</div>
					{% if not product.additional_manufacturers.all %}
					<strong>{{ product.manufacturer }}</strong>
					{% else %}
					<details>
					<summary><strong>{{ product.manufacturer }}</strong></summary>
						{% for manufacturer in product.additional_manufacturers.all %}
							{{ manufacturer }}{% if not forloop.last %},{% endif %}
						{% endfor %}
					</details>	
					{% endif %}
				</li>
				{% if product.vegan %}
				<li class="list-group-item d-flex">
					<div class="w-50">{% trans "Vegan" %}:</div>
					<strong style='color: green;'> {% trans "Yes" %} <i class="fontaws-leaf"></i></strong>
				</li>
				{% endif %}
				{% if product.lactose_free %}
				<li class="list-group-item d-flex">
					<div class="w-50">{% trans "Lactose free" %}:</div>
					<strong> {% trans "Yes" %}</strong>
				</li>
				{% endif %}
				{% if product.gluten_free %}
				<li class="list-group-item d-flex">
					<div class="w-50">{% trans "Gluten Free" %}:</div>
					<strong> {% trans "Yes" %}</strong>
				</li>
				{% endif %}
			</ul>
		</div>
	</div>
</div>
{% endblock main-content %}
